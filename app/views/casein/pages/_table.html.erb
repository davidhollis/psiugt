<!-- Scaffolding generated by Casein v5.1.1.5 -->

<table class="table table-striped table-hover table-condensed">
	<thead>
		<tr>
			<th><%= casein_sort_link "Title", :title %></th>
			<th>Path</th>
			<th>Status</th>
			<th>Parent Page</th>
			<th colspan="3">Actions</th>
		</tr>
	</thead>
	
	<% pages.each do |page| %>
		<tr>
			<td><%= casein_table_cell_link page.title, casein_page_path(page) %></td>
			<td><%= casein_table_cell_link content_tag(:code,page.path), casein_page_path(page) %></td>
			<td><%= casein_table_cell_link publication_status_badge(page), casein_page_path(page) %></td>
			<td><%= casein_table_cell_link (page.parent&.title || '(root page)'), casein_page_path(page) %></td>
            <!-- TODO make the show link show the live page in a new window -->
            <td class="action"><%= link_to(casein_show_row_icon("new-window"), casein_page_path(page)) %></td>
            <td class="action"><%= link_to(casein_show_row_icon("plus-sign"), new_casein_page_path(parent_id: page.id)) %></td>
			<td class="delete"><%= link_to(casein_show_row_icon("trash"), casein_page_path(page), :method => :delete, :data => { :confirm => "Are you sure you want to delete this page?" }) %></td>
		</tr>
	<% end %>
</table>